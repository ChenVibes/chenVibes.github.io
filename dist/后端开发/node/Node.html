<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.63" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="http://magicbegin.gitee.io/vuepress-blog/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html"><meta property="og:site_name" content="Mr Chen's Blog"><meta property="og:title" content="Node"><meta property="og:description" content="1ã€æµè§ˆå™¨çš„å·¥ä½œåŸç† æµè§ˆå™¨ç»„æˆï¼š ç”¨æˆ·ç•Œé¢ï¼šåœ°å€æ  å‰è¿›åé€€ã€ä¹¦ç­¾èœå• æ¸²æŸ“å¼•æ“:è´Ÿè´£æ˜¾ç¤ºè¯·æ±‚çš„å†…å®¹ æµè§ˆå™¨å¼•æ“:åœ¨ç”¨æˆ·ç•Œé¢å’Œæ¸²æŸ“å¼•æ“ä¹‹é—´ä¼ è¾¾æŒ‡ä»¤ï¼ˆç‚¹å‡»åˆ·æ–°ï¼‰ ç½‘ç»œæ¨¡å—ï¼šç”¨æˆ·ç½‘ç»œè°ƒç”¨ UI åç«¯:ç”¨æˆ·ç»˜åˆ¶åŸºæœ¬çš„çª—å£å°éƒ¨ä»¶ JS è§£é‡Šå™¨:è§£æå’Œæ‰§è¡Œ js ä»£ç  æ•°æ®å­˜å‚¨:æŒä¹…å±‚ï¼ˆcookieã€LocalStorage å’Œ SessionStorageï¼‰"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-10-27T11:35:00.000Z"><meta property="article:author" content="Mr Chen"><meta property="article:tag" content="node"><meta property="article:published_time" content="2018-08-08T00:00:00.000Z"><meta property="article:modified_time" content="2023-10-27T11:35:00.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Node","image":[""],"datePublished":"2018-08-08T00:00:00.000Z","dateModified":"2023-10-27T11:35:00.000Z","author":[{"@type":"Person","name":"Mr Chen","url":"https://gitee.com/magicBegin/vuepress-blog","email":"599422271@qq.com"}]}</script><link rel="icon" href="/favicon.png"><link rel="icon" href="/favicon.png" type="image/png" sizes="512x512"><link rel="icon" href="/favicon.png" type="image/png" sizes="192x192"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/favicon.png"><meta name="msapplication-TileColor" content="#000"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>Node | Mr Chen's Blog</title><meta name="description" content="1ã€æµè§ˆå™¨çš„å·¥ä½œåŸç† æµè§ˆå™¨ç»„æˆï¼š ç”¨æˆ·ç•Œé¢ï¼šåœ°å€æ  å‰è¿›åé€€ã€ä¹¦ç­¾èœå• æ¸²æŸ“å¼•æ“:è´Ÿè´£æ˜¾ç¤ºè¯·æ±‚çš„å†…å®¹ æµè§ˆå™¨å¼•æ“:åœ¨ç”¨æˆ·ç•Œé¢å’Œæ¸²æŸ“å¼•æ“ä¹‹é—´ä¼ è¾¾æŒ‡ä»¤ï¼ˆç‚¹å‡»åˆ·æ–°ï¼‰ ç½‘ç»œæ¨¡å—ï¼šç”¨æˆ·ç½‘ç»œè°ƒç”¨ UI åç«¯:ç”¨æˆ·ç»˜åˆ¶åŸºæœ¬çš„çª—å£å°éƒ¨ä»¶ JS è§£é‡Šå™¨:è§£æå’Œæ‰§è¡Œ js ä»£ç  æ•°æ®å­˜å‚¨:æŒä¹…å±‚ï¼ˆcookieã€LocalStorage å’Œ SessionStorageï¼‰">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-8f73fff0.css" as="style"><link rel="stylesheet" href="/assets/style-8f73fff0.css">
    <link rel="modulepreload" href="/assets/app-bb36df28.js"><link rel="modulepreload" href="/assets/Node.html-772a1c17.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/assets/Node.html-677a54d3.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar auto-hide"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="md-link vp-brand" href="/"><img class="vp-nav-logo" src="/favicon.png" alt="Mr Chen&#39;s Blog"><!----><span class="vp-site-name hide-in-pad">Mr Chen&#39;s Blog</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="md-link nav-link" href="/"><span class="font-icon icon iconfont icon-home" style=""></span>é¦–é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a class="md-link nav-link" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"><span class="font-icon icon iconfont icon-html" style=""></span>å‰ç«¯å¼€å‘<!----></a></div><div class="nav-item hide-in-mobile"><a class="md-link nav-link active" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"><span class="font-icon icon iconfont icon-be" style=""></span>åç«¯å¼€å‘<!----></a></div><div class="nav-item hide-in-mobile"><a class="md-link nav-link" href="/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"><span class="font-icon icon iconfont icon-study" style=""></span>åŸºç¡€çŸ¥è¯†<!----></a></div><div class="nav-item hide-in-mobile"><a class="md-link nav-link" href="/%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/"><span class="font-icon icon iconfont icon-biji" style=""></span>å¼€å‘æ—¥å¿—<!----></a></div><div class="nav-item hide-in-mobile"><a class="md-link nav-link" href="/ä¹¦ç­¾æ”¶è—.html"><span class="font-icon icon iconfont icon-shuqian" style=""></span>ä¹¦ç­¾æ”¶è—<!----></a></div></nav><!----><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-node" style=""></span><span class="vp-sidebar-title">æ•°æ®åº“</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-node" style=""></span><span class="vp-sidebar-title">node</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/node%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E4%BB%A5%E5%8F%8A%E5%B8%B8%E7%94%A8%E5%BA%93.html"><!---->nodeåŸºç¡€çŸ¥è¯†ä»¥åŠå¸¸ç”¨åº“<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/koa.html"><!---->koa2<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-nest" style=""></span><span class="vp-sidebar-title">Nest</span><span class="vp-arrow end"></span></button><!----></section></li><li><!--[--><a class="md-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html"><!---->Node<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_1ã€æµè§ˆå™¨çš„å·¥ä½œåŸç†.html"><!---->1ã€æµè§ˆå™¨çš„å·¥ä½œåŸç†<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_2ã€node-js-çš„ç®€å•ä»‹ç».html"><!---->2ã€Node.js çš„ç®€å•ä»‹ç»<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_3ã€å¸¸è§é”™è¯¯å·.html"><!---->3ã€å¸¸è§é”™è¯¯å·<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_4ã€è¯»å–å†™å…¥æ–‡ä»¶.html"><!---->4ã€è¯»å–å†™å…¥æ–‡ä»¶<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_5ã€ä½¿ç”¨-node-js-åˆ›å»ºä¸€ä¸ªæç®€æœåŠ¡å™¨.html"><!---->5ã€ä½¿ç”¨ Node.js åˆ›å»ºä¸€ä¸ªæç®€æœåŠ¡å™¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_6ã€request-å¯¹è±¡.html"><!---->6ã€request å¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_7-response-å¯¹è±¡.html"><!---->7.response å¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_8ã€url-æ¨¡å—.html"><!---->8ã€url æ¨¡å—<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_9ã€ç¬¬ä¸‰æ–¹æ¨¡æ¿-mime.html"><!---->9ã€ç¬¬ä¸‰æ–¹æ¨¡æ¿:MIME<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_10ã€ç¬¬ä¸‰æ–¹æ¨¡å—-underscore.html"><!---->10ã€ç¬¬ä¸‰æ–¹æ¨¡å—:underscore<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_11ã€å…¶ä»–.html"><!---->11ã€å…¶ä»–<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_12ã€node-js-æ¨¡å—.html"><!---->12ã€node.js æ¨¡å—<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_13-require-åŠ è½½æ¨¡å—é¡ºåº.html"><!---->13.require åŠ è½½æ¨¡å—é¡ºåº<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_14ã€æ¨¡å—åŒ–æ­¥éª¤.html"><!---->14ã€æ¨¡å—åŒ–æ­¥éª¤<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_15ã€å¦‚ä½•ç¼–å†™æ¨¡å—.html"><!---->15ã€å¦‚ä½•ç¼–å†™æ¨¡å—:<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_16ã€express-æ¨¡å—.html"><!---->16ã€Express æ¨¡å—<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html#_17-æ¨¡æ¿å¼•æ“-ejs.html"><!---->17.æ¨¡æ¿å¼•æ“ - ejs :<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Python</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Node</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://gitee.com/magicBegin/vuepress-blog" target="_blank" rel="noopener noreferrer">Mr Chen</a></span><span property="author" content="Mr Chen"></span></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category8 clickable" role="navigation">åç«¯å¼€å‘</span><!--]--><meta property="articleSection" content="åç«¯å¼€å‘"></span><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2018-08-08T00:00:00.000Z"></span><!----><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag6 clickable" role="navigation">node</span><!--]--><meta property="keywords" content="node"></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 18 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT18M"></span><span class="page-word-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 5438 å­—</span><meta property="wordCount" content="5438"></span><span class="page-pageview-info" aria-label="è®¿é—®é‡ğŸ”¢" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="waline-pageview-count" data-path="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/node/Node.html">...</span></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_1ã€æµè§ˆå™¨çš„å·¥ä½œåŸç†.html">1ã€æµè§ˆå™¨çš„å·¥ä½œåŸç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_2ã€node-js-çš„ç®€å•ä»‹ç».html">2ã€Node.js çš„ç®€å•ä»‹ç»</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_3ã€å¸¸è§é”™è¯¯å·.html">3ã€å¸¸è§é”™è¯¯å·</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_4ã€è¯»å–å†™å…¥æ–‡ä»¶.html">4ã€è¯»å–å†™å…¥æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_5ã€ä½¿ç”¨-node-js-åˆ›å»ºä¸€ä¸ªæç®€æœåŠ¡å™¨.html">5ã€ä½¿ç”¨ Node.js åˆ›å»ºä¸€ä¸ªæç®€æœåŠ¡å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_6ã€request-å¯¹è±¡.html">6ã€request å¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_7-response-å¯¹è±¡.html">7.response å¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_8ã€url-æ¨¡å—.html">8ã€url æ¨¡å—</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_9ã€ç¬¬ä¸‰æ–¹æ¨¡æ¿-mime.html">9ã€ç¬¬ä¸‰æ–¹æ¨¡æ¿:MIME</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_10ã€ç¬¬ä¸‰æ–¹æ¨¡å—-underscore.html">10ã€ç¬¬ä¸‰æ–¹æ¨¡å—:underscore</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_11ã€å…¶ä»–.html">11ã€å…¶ä»–</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_12ã€node-js-æ¨¡å—.html">12ã€node.js æ¨¡å—</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_13-require-åŠ è½½æ¨¡å—é¡ºåº.html">13.require åŠ è½½æ¨¡å—é¡ºåº</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_14ã€æ¨¡å—åŒ–æ­¥éª¤.html">14ã€æ¨¡å—åŒ–æ­¥éª¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_15ã€å¦‚ä½•ç¼–å†™æ¨¡å—.html">15ã€å¦‚ä½•ç¼–å†™æ¨¡å—:</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_16ã€express-æ¨¡å—.html">16ã€Express æ¨¡å—</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/#_17-æ¨¡æ¿å¼•æ“-ejs.html">17.æ¨¡æ¿å¼•æ“ - ejs :</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h3 id="_1ã€æµè§ˆå™¨çš„å·¥ä½œåŸç†" tabindex="-1"><a class="header-anchor" href="#_1ã€æµè§ˆå™¨çš„å·¥ä½œåŸç†" aria-hidden="true">#</a> 1ã€æµè§ˆå™¨çš„å·¥ä½œåŸç†</h3><h4 id="æµè§ˆå™¨ç»„æˆ" tabindex="-1"><a class="header-anchor" href="#æµè§ˆå™¨ç»„æˆ" aria-hidden="true">#</a> æµè§ˆå™¨ç»„æˆï¼š</h4><ul><li><p>ç”¨æˆ·ç•Œé¢ï¼šåœ°å€æ  å‰è¿›åé€€ã€ä¹¦ç­¾èœå•</p></li><li><p>æ¸²æŸ“å¼•æ“:è´Ÿè´£æ˜¾ç¤ºè¯·æ±‚çš„å†…å®¹</p></li><li><p>æµè§ˆå™¨å¼•æ“:åœ¨ç”¨æˆ·ç•Œé¢å’Œæ¸²æŸ“å¼•æ“ä¹‹é—´ä¼ è¾¾æŒ‡ä»¤ï¼ˆç‚¹å‡»åˆ·æ–°ï¼‰</p></li><li><p>ç½‘ç»œæ¨¡å—ï¼šç”¨æˆ·ç½‘ç»œè°ƒç”¨</p></li><li><p>UI åç«¯:ç”¨æˆ·ç»˜åˆ¶åŸºæœ¬çš„çª—å£å°éƒ¨ä»¶</p></li><li><p>JS è§£é‡Šå™¨:è§£æå’Œæ‰§è¡Œ js ä»£ç </p></li><li><p>æ•°æ®å­˜å‚¨:æŒä¹…å±‚ï¼ˆcookieã€LocalStorage å’Œ SessionStorageï¼‰</p></li></ul><h4 id="æµç¨‹å›¾" tabindex="-1"><a class="header-anchor" href="#æµç¨‹å›¾" aria-hidden="true">#</a> æµç¨‹å›¾</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>graph TD

    A(ç”¨æˆ·ç•Œé¢)--&gt;B{æµè§ˆå™¨å¼•æ“}
    A--&gt;F(UIåç«¯)
    B--&gt;C{æ¸²æŸ“å¼•æ“}
    B--&gt;G(æ•°æ®å­˜å‚¨)
    C--&gt;D[ç½‘ç»œæ¨¡å—]
    C--&gt;E[JSè§£é‡Šå™¨]
    C--&gt;F[UIåç«¯]


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€node-js-çš„ç®€å•ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2ã€node-js-çš„ç®€å•ä»‹ç»" aria-hidden="true">#</a> 2ã€Node.js çš„ç®€å•ä»‹ç»</h3><pre><code>node æ˜¯ä¸€ä¸ªå¼€å‘å¹³å° åŸºäº Chrom V8 javascript å¼•æ“æ„å»º,å¯ä»¥å¼€å‘æ§åˆ¶å°ç¨‹åºï¼ˆå‘½ä»¤è¡Œç¨‹åºï¼‰ã€æ¡Œé¢åº”ç”¨ç¨‹åºï¼ˆGUIï¼‰ï¼ˆå€ŸåŠ© node-webkitã€electron ç­‰æ¡†æ¶å®ç°ï¼‰ã€Web åº”ç”¨ç¨‹åºï¼ˆç½‘ç«™ï¼‰
</code></pre><h4 id="win10-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#win10-å®‰è£…" aria-hidden="true">#</a> win10 å®‰è£…:</h4><ul><li>1.ç®¡ç†å‘˜è¿è¡Œ cmd è¿›å…¥å®‰è£…åŒ…æ‰€åœ¨ç›®å½•</li><li>2.msiexec /package node-v8.9.3-x64.msi</li></ul><h4 id="è¿è¡ŒæŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#è¿è¡ŒæŒ‡ä»¤" aria-hidden="true">#</a> è¿è¡ŒæŒ‡ä»¤</h4><ul><li>npm install -g npm è¿™æ · npm å°±æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬äº†ã€‚</li><li>å¦‚æœæƒ³æ›´æ–°åˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œ è¿è¡ŒæŒ‡ä»¤<br> npm -g install npm@2.9.1ï¼ˆ@åè·Ÿç‰ˆæœ¬å·ï¼‰ï¼Œ è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ›´æ–° npm ç‰ˆæœ¬äº†ã€‚</li><li>æ€ä¹ˆæŸ¥çœ‹è‡ªå·±å…¨å±€å®‰è£…è¿‡çš„åŒ…ï¼Œç”¨å‘½ä»¤ npm list -g --depth 0</li></ul><h4 id="æ·˜å®é•œåƒ" tabindex="-1"><a class="header-anchor" href="#æ·˜å®é•œåƒ" aria-hidden="true">#</a> æ·˜å®é•œåƒ</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//æ·˜å®é•œåƒ</span>
npm config <span class="token keyword">set</span> registry https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org

npm config <span class="token keyword">set</span> registry http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>cnpmjs<span class="token punctuation">.</span>org

<span class="token comment">//æ£€æµ‹æ˜¯å¦è®¾ç½®æˆåŠŸ</span>
npm config <span class="token keyword">get</span> registry

<span class="token comment">//æŸ¥çœ‹å…¨å±€åŒ…ä½ç½®ï¼š</span>
npm root <span class="token operator">-</span>g
<span class="token comment">//å¯ä»¥çœ‹åˆ°å®é™…çš„ä½ç½®</span>

<span class="token comment">//ä¿®æ”¹å…¨å±€åŒ…ä½ç½®</span>
npm config <span class="token keyword">set</span> prefix <span class="token string">&#39;ç›®æ ‡ç›®å½•&#39;</span>

<span class="token comment">//npmæ¸…ç†ç¼“å­˜</span>
npm cache verify


<span class="token comment">//æŸ¥çœ‹ä¿®æ”¹ç»“æœ</span>
npm config <span class="token keyword">get</span> prefix
<span class="token comment">//æˆ–è€…ç”¨npm root -gå‘½ä»¤ä¹Ÿå¯</span>
npm uninstall <span class="token operator">-</span>g xxx

npm update moduleNameï¼šæ›´æ–°nodeæ¨¡å—
npm rebuild moduleName
npm view moudleName dependenciesï¼šæŸ¥çœ‹åŒ…çš„ä¾èµ–å…³ç³»
npm view moduleName repository<span class="token punctuation">.</span>urlï¼šæŸ¥çœ‹åŒ…çš„æºæ–‡ä»¶åœ°å€
npm view moduleName enginesï¼šæŸ¥çœ‹åŒ…æ‰€ä¾èµ–çš„Nodeçš„ç‰ˆæœ¬
npm outdatedï¼šæ£€æŸ¥åŒ…æ˜¯å¦å·²ç»è¿‡æ—¶ï¼Œæ­¤å‘½ä»¤ä¼šåˆ—å‡ºæ‰€æœ‰å·²ç»è¿‡æ—¶çš„åŒ…ï¼Œå¯ä»¥åŠæ—¶è¿›è¡ŒåŒ…çš„æ›´æ–°


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å‡çº§-node-ç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#å‡çº§-node-ç‰ˆæœ¬" aria-hidden="true">#</a> å‡çº§ node ç‰ˆæœ¬</h4><ul><li>1)é¦–å…ˆ:æŸ¥çœ‹å½“å‰ node ç‰ˆæœ¬:node â€“v</li><li>2)å®‰è£… n æ¨¡å—:npm install -g n</li><li>3)å‡çº§åˆ°æŒ‡å®šç‰ˆæœ¬/æœ€æ–°ç‰ˆæœ¬(è¯¥æ­¥éª¤å¯èƒ½éœ€è¦èŠ±è´¹ä¸€äº›æ—¶é—´)å‡çº§ä¹‹å‰,å¯ä»¥æ‰§è¡Œ n ls (æŸ¥çœ‹å¯å‡çº§çš„ç‰ˆæœ¬)<br> å¦‚:n 6.9.1<br> æˆ–è€…ä½ ä¹Ÿå¯ä»¥å‘Šè¯‰ç®¡ç†å™¨,å®‰è£…æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬<br> n stable</li><li>4)å®‰è£…å®Œæˆå,æŸ¥çœ‹ Node çš„ç‰ˆæœ¬,æ£€æŸ¥å‡çº§æ˜¯å¦æˆåŠŸ<br> node -v</li><li>æ³¨:å¦‚æœå¾—åˆ°çš„ç‰ˆæœ¬ä¿¡æ¯ä¸æ­£ç¡®,ä½ å¯èƒ½éœ€è¦é‡å¯æœºå™¨</li></ul><h4 id="cnpm" tabindex="-1"><a class="header-anchor" href="#cnpm" aria-hidden="true">#</a> cnpm</h4><h5 id="_1-npm-å®‰è£…-cnpm" tabindex="-1"><a class="header-anchor" href="#_1-npm-å®‰è£…-cnpm" aria-hidden="true">#</a> 1. npm å®‰è£… cnpm</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>   npm i cnpm <span class="token operator">-</span>g
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="_2-æ£€æŸ¥-cnpm" tabindex="-1"><a class="header-anchor" href="#_2-æ£€æŸ¥-cnpm" aria-hidden="true">#</a> 2. æ£€æŸ¥ cnpm</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>    cnpm -v
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="_3-å®‰è£…å…¶ä»–åŒ…" tabindex="-1"><a class="header-anchor" href="#_3-å®‰è£…å…¶ä»–åŒ…" aria-hidden="true">#</a> 3. å®‰è£…å…¶ä»–åŒ…:</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>   cnpm  i bootstrap -S
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="yarn" tabindex="-1"><a class="header-anchor" href="#yarn" aria-hidden="true">#</a> yarn</h4><h5 id="_1-npm-å®‰è£…-yarn" tabindex="-1"><a class="header-anchor" href="#_1-npm-å®‰è£…-yarn" aria-hidden="true">#</a> 1. npm å®‰è£… yarn</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>   npm i yarn -g
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="_2-æ£€æŸ¥-yarn" tabindex="-1"><a class="header-anchor" href="#_2-æ£€æŸ¥-yarn" aria-hidden="true">#</a> 2. æ£€æŸ¥ yarn</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>    yarn -v
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="_3-å®‰è£…å…¶ä»–åŒ…-1" tabindex="-1"><a class="header-anchor" href="#_3-å®‰è£…å…¶ä»–åŒ…-1" aria-hidden="true">#</a> 3. å®‰è£…å…¶ä»–åŒ…:</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>   yarn add underscore
   yarn add åŒ…å    æœ¬åœ°
   yarn add åŒ…å  -g    å…¨å±€
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_4-æ›´æ–°ä¸€ä¸ªä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_4-æ›´æ–°ä¸€ä¸ªä¾èµ–" aria-hidden="true">#</a> 4.æ›´æ–°ä¸€ä¸ªä¾èµ–</h5><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>yarn upgrade [package]
yarn upgrade [package]@[version]
yarn upgrade [package]@[tag]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_5-ç§»é™¤ä¸€ä¸ªä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_5-ç§»é™¤ä¸€ä¸ªä¾èµ–" aria-hidden="true">#</a> 5.ç§»é™¤ä¸€ä¸ªä¾èµ–</h5><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>yarn remove [package]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="_6-å®‰è£…-package-json-ä¸­æ‰€æœ‰çš„ä¾èµ–é¡¹" tabindex="-1"><a class="header-anchor" href="#_6-å®‰è£…-package-json-ä¸­æ‰€æœ‰çš„ä¾èµ–é¡¹" aria-hidden="true">#</a> 6.å®‰è£… package.json ä¸­æ‰€æœ‰çš„ä¾èµ–é¡¹</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yarnæˆ–è€… yarn install
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="_7-è¿è¡Œè„šæœ¬" tabindex="-1"><a class="header-anchor" href="#_7-è¿è¡Œè„šæœ¬" aria-hidden="true">#</a> 7.è¿è¡Œè„šæœ¬</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yarn run dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>yarn æ‰§è¡Œ dev å¯¹åº”çš„è„šæœ¬ node app.js</li></ul><h5 id="_8-æ˜¾ç¤ºæŸä¸ªåŒ…ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_8-æ˜¾ç¤ºæŸä¸ªåŒ…ä¿¡æ¯" aria-hidden="true">#</a> 8. æ˜¾ç¤ºæŸä¸ªåŒ…ä¿¡æ¯</h5><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>    yarn info webpack # yarn
    npm info webpack # npm
    yarn info webpack --json # è¾“å‡º json æ ¼å¼
    npm info webpack  --json # npm
    yarn info webpack readme # è¾“å‡º README éƒ¨åˆ†
    npm info webpack readme
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_9-åˆ—å‡ºé¡¹ç›®çš„æ‰€æœ‰ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_9-åˆ—å‡ºé¡¹ç›®çš„æ‰€æœ‰ä¾èµ–" aria-hidden="true">#</a> 9. åˆ—å‡ºé¡¹ç›®çš„æ‰€æœ‰ä¾èµ–</h5><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>     yarn list # åˆ—å‡ºå½“å‰é¡¹ç›®çš„ä¾èµ–
    npm list # npm
    yarn list --depth=0 # é™åˆ¶ä¾èµ–çš„æ·±åº¦
    sudo yarn global list # åˆ—å‡ºå…¨å±€å®‰è£…çš„æ¨¡å—
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_10-ç®¡ç†-yarn-é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_10-ç®¡ç†-yarn-é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 10.ç®¡ç† yarn é…ç½®æ–‡ä»¶</h5><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code> yarn coinfig
  yarn config set key value # è®¾ç½®
    npm config set key value

    yarn config get key # è¯»å–å€¼
    npm config get key

    yarn config delete key # åˆ é™¤
    npm config delete key

    yarn config list # æ˜¾ç¤ºå½“å‰é…ç½®
    npm config list

    yarn config set registry https://      registry.npm.taobao.org
    yarn config set registry http://registry.cnpmjs.org
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="è®¾ç½®æ·˜å®é•œåƒ" tabindex="-1"><a class="header-anchor" href="#è®¾ç½®æ·˜å®é•œåƒ" aria-hidden="true">#</a> è®¾ç½®æ·˜å®é•œåƒ</h6><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>    npm config set registry https://registry.npm.taobao.org # npm
     yarn config set registry http://registry.cnpmjs.org
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_11-ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#_11-ç¼“å­˜" aria-hidden="true">#</a> 11.ç¼“å­˜</h5><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>yarn cache
    sudo yarn cache list # åˆ—å‡ºå·²ç¼“å­˜çš„æ¯ä¸ªåŒ…
    sudo yarn cache dir # è¿”å› å…¨å±€ç¼“å­˜ä½ç½®
    sudo yarn cache clean # æ¸…é™¤ç¼“å­˜
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3ã€å¸¸è§é”™è¯¯å·" tabindex="-1"><a class="header-anchor" href="#_3ã€å¸¸è§é”™è¯¯å·" aria-hidden="true">#</a> 3ã€å¸¸è§é”™è¯¯å·</h3><ul><li><p>EACCES (Permission denied)</p><ul><li>An attempt was made to access a file in a way forbidden by its file access permissions.</li><li>è®¿é—®è¢«æ‹’ç»</li></ul></li><li><p>EADDRINUSE (Address already in use)</p><ul><li>An attempt to bind a server (net, http, or https) to a local address failed due to another server on the local system already occupying that address.</li><li>åœ°å€æ­£åœ¨è¢«ä½¿ç”¨ï¼ˆæ¯”å¦‚ï¼šç«¯å£å·å¤‡å ç”¨ï¼‰</li></ul></li><li><p>EEXIST (File exists)</p><ul><li>An existing file was the target of an operation that required that the target not exist.</li><li>æ–‡ä»¶å·²ç»å­˜åœ¨</li></ul></li><li><p>EISDIR (Is a directory)</p><ul><li>An operation expected a file, but the given pathname was a directory.</li><li>ç»™å®šçš„è·¯å¾„æ˜¯ç›®å½•</li></ul></li><li><p>ENOENT (No such file or directory)</p><ul><li>Commonly raised by fs operations to indicate that a component of the specified pathname does not exist -- no entity (file or directory) could be found by the given path.</li><li>æ–‡ä»¶ æˆ– ç›®å½•ä¸å­˜åœ¨</li></ul></li></ul><ul><li>ENOTDIR (Not a directory) <ul><li>A component of the given pathname existed, but was not a directory as expected. Commonly raised by fs.readdir.</li><li>ç»™å®šçš„è·¯å¾„ä¸æ˜¯ç›®å½•</li></ul></li></ul><h3 id="_4ã€è¯»å–å†™å…¥æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_4ã€è¯»å–å†™å…¥æ–‡ä»¶" aria-hidden="true">#</a> 4ã€è¯»å–å†™å…¥æ–‡ä»¶</h3><h5 id="åŠ è½½æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#åŠ è½½æ¨¡å—" aria-hidden="true">#</a> åŠ è½½æ¨¡å—</h5><pre><code>var fs=require(&#39;fs&#39;);
</code></pre><h5 id="å†™å…¥æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#å†™å…¥æ–‡ä»¶" aria-hidden="true">#</a> å†™å…¥æ–‡ä»¶</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>    fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> data<span class="token punctuation">[</span><span class="token punctuation">,</span> options<span class="token punctuation">]</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//å‚æ•°1:file è¦æŠŠæ–‡ä»¶å†™å…¥åˆ°å“ªé‡Œ(è·¯å¾„)</span>
    <span class="token comment">//å‚æ•°2:data å†™å…¥çš„æ•°æ®</span>
    <span class="token comment">//å‚æ•°3:options ç¼–ç  é»˜è®¤:utf8ï¼ˆå¯é€‰ï¼‰</span>
    <span class="token comment">//å‚æ•°4:callback å›è°ƒå‡½æ•°:err</span>
    <span class="token keyword">var</span> msg <span class="token operator">=</span> <span class="token string">&#39;ä½ å¥½ï¼Œä¸–ç•Œ&#39;</span><span class="token punctuation">;</span>
    fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">&#39;./data.txt&#39;</span><span class="token punctuation">,</span> msg<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>&quot;å†™å…¥æˆ
        åŠŸ&quot;<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="è¯»å–æ–‡ä»¶-readfire" tabindex="-1"><a class="header-anchor" href="#è¯»å–æ–‡ä»¶-readfire" aria-hidden="true">#</a> è¯»å–æ–‡ä»¶ readFire</h5><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>     fs.readFile(path[, options], callback)
    //å‚æ•°1:path è¦æŠŠæ–‡ä»¶å†™å…¥åˆ°å“ªé‡Œ(è·¯å¾„)
    //å‚æ•°2:options ç¼–ç  é»˜è®¤:utf8ï¼ˆå¯é€‰ï¼‰
    //å‚æ•°3:callback å›è°ƒå‡½æ•°:err
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="path-æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#path-æ¨¡å—" aria-hidden="true">#</a> path æ¨¡å—</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>__dirname <span class="token comment">//è¯»å–å½“å‰jsæ‰€åœ¨çš„æ–‡ä»¶å¤¹ç›®å½•</span>
<span class="token comment">//1. åŠ è½½ fs æ¨¡å—</span>
<span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span> <span class="token comment">//  path æ¨¡å— è´Ÿè´£å¤„ç†è·¯å¾„</span>
path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token comment">//æŠŠa+b å®‰è£…è·¯å¾„çš„è§„åˆ™æ‹¼æ¥èµ·æ¥</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="try-catch-æ•è·å¼‚å¸¸-æŠ›å‡ºé”™è¯¯" tabindex="-1"><a class="header-anchor" href="#try-catch-æ•è·å¼‚å¸¸-æŠ›å‡ºé”™è¯¯" aria-hidden="true">#</a> try...catch(æ•è·å¼‚å¸¸ï¼ŒæŠ›å‡ºé”™è¯¯)</h5><h6 id="ä»£ç -åŒæ­¥-try-catch" tabindex="-1"><a class="header-anchor" href="#ä»£ç -åŒæ­¥-try-catch" aria-hidden="true">#</a> ä»£ç : åŒæ­¥ try .. catch</h6><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// ä¸€æ—¦å‡ºé”™,åé¢çš„ä»£ç ä¸æ‰§è¡Œäº†..</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> data <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">&#39;./abcd.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">)</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// throw err</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;è¯»å–æ—¶:&#39;</span> <span class="token operator">+</span> err<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">222</span><span class="token punctuation">)</span>

<span class="token comment">//ä»£ç : å¼‚æ­¥ try .. catch</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¼‚æ­¥ try...catch</span>
    <span class="token comment">// å¦‚æœæ­£ç¡®: err æ²¡æœ‰å€¼  data æœ‰å€¼</span>
    <span class="token comment">// å¦‚æœé”™è¯¯: err æœ‰å€¼ ,data æ²¡æœ‰å€¼</span>
    <span class="token comment">// ä¸ç®¡æ€ä¹ˆæ ·,éƒ½ä¼šèµ°è¿™ä¸ªå›è°ƒæ–¹æ³•,,, try catch æ²¡æœ‰ç”¨</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">333</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">// ä¸è¦æ‹¼å­—ç¬¦ä¸²,ä¼šè½¬åŒ–ä¸ºå­—ç¬¦ä¸²çš„</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">222</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5ã€ä½¿ç”¨-node-js-åˆ›å»ºä¸€ä¸ªæç®€æœåŠ¡å™¨" tabindex="-1"><a class="header-anchor" href="#_5ã€ä½¿ç”¨-node-js-åˆ›å»ºä¸€ä¸ªæç®€æœåŠ¡å™¨" aria-hidden="true">#</a> 5ã€ä½¿ç”¨ Node.js åˆ›å»ºä¸€ä¸ªæç®€æœåŠ¡å™¨</h3><h4 id="_1-åŠ è½½-http-æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_1-åŠ è½½-http-æ¨¡å—" aria-hidden="true">#</a> 1.åŠ è½½ http æ¨¡å—</h4><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>    var http=require(&quot;http&quot;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-åˆ›å»ºæœåŠ¡å™¨" tabindex="-1"><a class="header-anchor" href="#_2-åˆ›å»ºæœåŠ¡å™¨" aria-hidden="true">#</a> 2.åˆ›å»ºæœåŠ¡å™¨</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>    var server=http.createSever();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-ç›‘å¬-request" tabindex="-1"><a class="header-anchor" href="#_3-ç›‘å¬-request" aria-hidden="true">#</a> 3.ç›‘å¬ request</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>    server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;request&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">//å‚æ•°1:req è¯·æ±‚è¿‡æ¥çš„å¯¹è±¡ä¿¡æ¯</span>
      <span class="token comment">//å‚æ•°2:res æœåŠ¡å™¨å“åº”ç»™æµè§ˆå™¨çš„ä¿¡æ¯</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;æœ‰äººè®¿é—®äº†&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//å‘Šè¯‰æµè§ˆå™¨ä»¥ä»€ä¹ˆæ ¼å¼è§£æå†…å®¹  content-type æ–‡æœ¬ç±»å‹  text/plain æ™®é€šæ–‡æœ¬</span>

       <span class="token comment">//mime.getType(&#39;.../XXX.css&#39;) -----&gt; text/css</span>

     <span class="token comment">//mime.getType(&#39;æ–‡ä»¶å/æ–‡ä»¶è·¯å¾„&#39;)  çœ‹ä¸­æ˜¯ åç¼€å</span>

    res<span class="token punctuation">.</span>url<span class="token punctuation">.</span>startsWithï¼ˆï¼‰<span class="token comment">//é€‰æ‹©ä»¥...å¼€å§‹çš„è·¯å¾„</span>

      <span class="token comment">//è®¾ç½®å“åº”å¤´</span>
      res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;content-type&quot;</span><span class="token punctuation">,</span>mime<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


      <span class="token comment">//è®¾ç½®ä¸åŒurlè¿”å›ä¸åŒçš„å“åº”æ–‡æœ¬</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token operator">==</span><span class="token string">&#39;/&#39;</span><span class="token operator">||</span>req<span class="token punctuation">.</span>url<span class="token operator">==</span><span class="token string">&#39;/index&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&quot;é¦–é¡µ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token operator">==</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•é¡µ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token operator">==</span><span class="token string">&#39;/register&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨å†Œé¡µ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
      res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&quot;404 no found page&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-å¼€å¯æœåŠ¡å™¨" tabindex="-1"><a class="header-anchor" href="#_4-å¼€å¯æœåŠ¡å™¨" aria-hidden="true">#</a> 4.å¼€å¯æœåŠ¡å™¨</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>    server.listen(9000,function(){
    console.log(&quot;æœåŠ¡å™¨å¼€å¯äº†,è¯·è®¿é—®:http:/localhost:9000&quot;)
    });
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6ã€request-å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_6ã€request-å¯¹è±¡" aria-hidden="true">#</a> 6ã€request å¯¹è±¡</h3><h4 id="_1-request-headers-è¯·æ±‚å¤´å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_1-request-headers-è¯·æ±‚å¤´å¯¹è±¡" aria-hidden="true">#</a> 1.request.headers è¯·æ±‚å¤´å¯¹è±¡</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>      <span class="token comment">// æ‰“å° request.headers</span>
<span class="token punctuation">{</span> <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&#39;localhost:8080&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">connection</span><span class="token operator">:</span> <span class="token string">&#39;keep-alive&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// äººå®¶é»˜è®¤çš„,ä¸è¦åŠ¨å®ƒ,,çŸ¥é“ä¹Ÿæ²¡ç”¨,,ä¹Ÿæ”¹å˜ä¸äº†</span>
  <span class="token string-property property">&#39;user-agent&#39;</span><span class="token operator">:</span> <span class="token string">&#39;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">//User-Agent å‘Šè¯‰HTTPæœåŠ¡å™¨ï¼Œ å®¢æˆ·ç«¯ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨çš„åç§°å’Œç‰ˆæœ¬.</span>

  <span class="token string-property property">&#39;upgrade-insecure-requests&#39;</span><span class="token operator">:</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token comment">//æ˜¯å¦å¯ä½¿ç”¨æ›´é«˜çš„ç‰ˆæœ¬è¿›è¡Œé€šä¿¡</span>
  <span class="token literal-property property">accept</span><span class="token operator">:</span> <span class="token string">&#39;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">//æµè§ˆå™¨ç«¯å¯ä»¥æ¥å—çš„åª’ä½“ç±»å‹,</span>
  <span class="token string-property property">&#39;accept-encoding&#39;</span><span class="token operator">:</span> <span class="token string">&#39;gzip, deflate, br&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// æµè§ˆå™¨ç”³æ˜è‡ªå·±æ¥æ”¶çš„ç¼–ç æ–¹æ³• é€šå¸¸æŒ‡å®šå‹ç¼©æ–¹æ³•ï¼Œæ˜¯å¦æ”¯æŒå‹ç¼©ï¼Œæ”¯æŒä»€ä¹ˆå‹ç¼©æ–¹æ³•ï¼ˆgzipï¼Œdeflateï¼‰</span>
  <span class="token string-property property">&#39;accept-language&#39;</span><span class="token operator">:</span> <span class="token string">&#39;zh-CN,zh;q=0.8,en;q=0.6&#39;</span>
 <span class="token comment">//æµè§ˆå™¨ç”³æ˜è‡ªå·±æ¥æ”¶çš„è¯­è¨€ã€‚</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-request-rawheaders-è¯·æ±‚å¤´-æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#_2-request-rawheaders-è¯·æ±‚å¤´-æ•°ç»„" aria-hidden="true">#</a> 2.request.rawHeaders-è¯·æ±‚å¤´(æ•°ç»„)</h4><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>// æ‰“å° request.rawHeaders
[ &#39;Host&#39;,
  &#39;localhost:8080&#39;,
  &#39;Connection&#39;,
  &#39;keep-alive&#39;,
  &#39;Cache-Control&#39;,
  &#39;max-age=0&#39;,
  &#39;Upgrade-Insecure-Requests&#39;,
  &#39;1&#39;,
  &#39;User-Agent&#39;,
  &#39;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36&#39;,
  &#39;Accept&#39;,
  &#39;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8&#39;,
  &#39;Accept-Encoding&#39;,
  &#39;gzip, deflate, br&#39;,
  &#39;Accept-Language&#39;,
  &#39;zh-CN,zh;q=0.8,en;q=0.6&#39; ]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-request-httpversion-http-ç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#_3-request-httpversion-http-ç‰ˆæœ¬" aria-hidden="true">#</a> 3.request.httpVersion-http ç‰ˆæœ¬</h4><h4 id="_4-request-method-è¯·æ±‚æ–¹å¼-get-post" tabindex="-1"><a class="header-anchor" href="#_4-request-method-è¯·æ±‚æ–¹å¼-get-post" aria-hidden="true">#</a> 4.request.method-è¯·æ±‚æ–¹å¼ï¼ˆget/postï¼‰</h4><h4 id="_5-request-url-è¯·æ±‚-url-è·¯å¾„" tabindex="-1"><a class="header-anchor" href="#_5-request-url-è¯·æ±‚-url-è·¯å¾„" aria-hidden="true">#</a> 5.request.url-è¯·æ±‚ url è·¯å¾„</h4><h3 id="_7-response-å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_7-response-å¯¹è±¡" aria-hidden="true">#</a> 7.response å¯¹è±¡</h3><h4 id="_1-response-write-data-encoding-callback" tabindex="-1"><a class="header-anchor" href="#_1-response-write-data-encoding-callback" aria-hidden="true">#</a> 1.response.write(data[,encoding][,callback])</h4><ul><li>å‚æ•° 1:è¦å†™å…¥çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–äºŒè¿›åˆ¶æ•°æ®(å¿…å¡«) string|Buffer</li><li>å‚æ•° 2:ç¼–ç ï¼Œé»˜è®¤æ˜¯ utf8ï¼›é€‰å¡«</li><li>å‚æ•° 3:å›è°ƒå‡½æ•°;é€‰å¡«</li></ul><h4 id="_2-response-end-data-encoding-callback" tabindex="-1"><a class="header-anchor" href="#_2-response-end-data-encoding-callback" aria-hidden="true">#</a> 2.response.end(data[,encoding][,callback])</h4><ul><li>å‚æ•° 1:ç»“æŸå“åº”å‰è¦å‘é€çš„æ•°æ®, é€‰å¡« string |Buffer</li><li>å‚æ•° 2: ç¼–ç , é€‰å¡«</li><li>å‚æ•° 3: å›è°ƒå‡½æ•°, é€‰å¡«</li></ul><h4 id="_3-response-setheader-name-value-â€”-è®¾ç½®å“åº”æŠ¥æ–‡å¤´-â˜…â˜…" tabindex="-1"><a class="header-anchor" href="#_3-response-setheader-name-value-â€”-è®¾ç½®å“åº”æŠ¥æ–‡å¤´-â˜…â˜…" aria-hidden="true">#</a> 3.response.setHeader(name, value) â€” è®¾ç½®å“åº”æŠ¥æ–‡å¤´ (â˜…â˜…)</h4><pre><code>//å‘Šè¯‰æµè§ˆå™¨è§£ææ–‡æœ¬æ˜¯ä»¥ä»€ä¹ˆæ ¼å¼è§£æ,åˆä»¥ä»€ä¹ˆç¼–ç æ ¼å¼è§£æ
</code></pre><h4 id="_4-response-statuscode-â€”-è®¾ç½®æˆ–è€…è¯»å–-http-çŠ¶æ€ç " tabindex="-1"><a class="header-anchor" href="#_4-response-statuscode-â€”-è®¾ç½®æˆ–è€…è¯»å–-http-çŠ¶æ€ç " aria-hidden="true">#</a> 4.response.statusCode â€” è®¾ç½®æˆ–è€…è¯»å– http çŠ¶æ€ç </h4><h4 id="_5-response-statusmessage-â€”-è®¾ç½®æˆ–è¯»å–-http-å“åº”çŠ¶æ€æ¶ˆæ¯" tabindex="-1"><a class="header-anchor" href="#_5-response-statusmessage-â€”-è®¾ç½®æˆ–è¯»å–-http-å“åº”çŠ¶æ€æ¶ˆæ¯" aria-hidden="true">#</a> 5.response.statusMessage â€” è®¾ç½®æˆ–è¯»å– http å“åº”çŠ¶æ€æ¶ˆæ¯</h4><h4 id="_6-response-writehead-statuscode-statusmessage-headers-â€”-è®¾ç½®å“åº”å¤´ä¿¡æ¯-â˜…" tabindex="-1"><a class="header-anchor" href="#_6-response-writehead-statuscode-statusmessage-headers-â€”-è®¾ç½®å“åº”å¤´ä¿¡æ¯-â˜…" aria-hidden="true">#</a> 6.response.writeHead(statusCode [, statusMessage]_[, headers]) â€” è®¾ç½®å“åº”å¤´ä¿¡æ¯ (â˜…)</h4><ul><li>å‚æ•° 1: çŠ¶æ€ç </li><li>å‚æ•° 2: çŠ¶æ€ä¿¡æ¯</li><li>å‚æ•° 3: å“åº”å¤´</li></ul><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>        // ç¤ºä¾‹ä»£ç ï¼š
    res.writeHead(200, &#39;OK&#39;, {
      &#39;Content-Type&#39;: &#39;text/html; charset=utf-8&#39;,
      &#39;Content-Length&#39;: Buffer.byteLength(msg)
    });
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>1.res.end() æ”¾åœ¨æœ€å;</li><li>2.setHeader/statusCode/statusMessage å’Œ writeHead(statusCode [, statusMessage]_[, headers]) æœ€å¥½åªä½¿ç”¨ä¸€ä¸ª</li><li>3.setHeader() æœ€å¥½æ”¾åœ¨æœ€å‰</li></ul><h3 id="_8ã€url-æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_8ã€url-æ¨¡å—" aria-hidden="true">#</a> 8ã€url æ¨¡å—</h3><h4 id="å†…ç½®æ¨¡å—-url-è½¬åŒ–-åŒ…å«æŸ¥è¯¢å­—ç¬¦ä¸²çš„-req-url" tabindex="-1"><a class="header-anchor" href="#å†…ç½®æ¨¡å—-url-è½¬åŒ–-åŒ…å«æŸ¥è¯¢å­—ç¬¦ä¸²çš„-req-url" aria-hidden="true">#</a> å†…ç½®æ¨¡å— url ,è½¬åŒ– åŒ…å«æŸ¥è¯¢å­—ç¬¦ä¸²çš„ req.url</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>      <span class="token keyword">var</span> <span class="token constant">URL</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;url&#39;</span><span class="token punctuation">)</span>

      <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">)</span>  <span class="token operator">-</span><span class="token operator">&gt;</span> query ä¾ç„¶æ˜¯æŸ¥è¯¢å­—ç¬¦ä¸²

      <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>  <span class="token operator">-</span><span class="token operator">&gt;</span> query æ‰æ˜¯ä¸€ä¸ª url å¯¹è±¡

     <span class="token comment">//å¦‚æœä¸º `true`ï¼Œåˆ™ `query å±æ€§`æ€»ä¼šé€šè¿‡ querystring æ¨¡å—çš„ parse() æ–¹æ³•ç”Ÿæˆä¸€ä¸ª`å¯¹è±¡`ã€‚</span>
    <span class="token comment">//å¦‚æœä¸º `false`ï¼Œåˆ™è¿”å›çš„ URL å¯¹è±¡ä¸Šçš„ query å±æ€§ä¼šæ˜¯ä¸€ä¸ª`æœªè§£æã€æœªè§£ç çš„å­—ç¬¦ä¸²`ã€‚</span>
    <span class="token comment">//é»˜è®¤ä¸º` falseã€‚</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å†…ç½®æ¨¡å—-querystring-æŸ¥è¯¢å­—ç¬¦ä¸²-è½¬åŒ–ä¸ºå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#å†…ç½®æ¨¡å—-querystring-æŸ¥è¯¢å­—ç¬¦ä¸²-è½¬åŒ–ä¸ºå¯¹è±¡" aria-hidden="true">#</a> å†…ç½®æ¨¡å— queryString, æŸ¥è¯¢å­—ç¬¦ä¸² è½¬åŒ–ä¸ºå¯¹è±¡</h4><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>       var queryString =  require(&#39;queryString&#39;);

       querystring.parse(bodypost)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9ã€ç¬¬ä¸‰æ–¹æ¨¡æ¿-mime" tabindex="-1"><a class="header-anchor" href="#_9ã€ç¬¬ä¸‰æ–¹æ¨¡æ¿-mime" aria-hidden="true">#</a> 9ã€ç¬¬ä¸‰æ–¹æ¨¡æ¿:MIME</h3><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>    //éœ€è¦å…ˆå®‰è£…
    npm i mime -s
      // è®¾ç½®æ ·å¼ (mime)
       mime.getType(req.url)
       å¾—åˆ°çš„æ˜¯æ–‡ä»¶ç±»å‹å¦‚:text/html,text/plian,image/jpegç­‰
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10ã€ç¬¬ä¸‰æ–¹æ¨¡å—-underscore" tabindex="-1"><a class="header-anchor" href="#_10ã€ç¬¬ä¸‰æ–¹æ¨¡å—-underscore" aria-hidden="true">#</a> 10ã€ç¬¬ä¸‰æ–¹æ¨¡å—:underscore</h3><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>    var _=require(&#39;underscore&#39;);
    //_è·Ÿjqueryä¸­çš„$ç±»ä¼¼
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä½¿ç”¨ underscore çš„æ­¥éª¤</li></ul><h4 id="_1-è·å–æ¨¡æ¿å­—ç¬¦ä¸²" tabindex="-1"><a class="header-anchor" href="#_1-è·å–æ¨¡æ¿å­—ç¬¦ä¸²" aria-hidden="true">#</a> 1.è·å–æ¨¡æ¿å­—ç¬¦ä¸²</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> oldHtml <span class="token operator">=</span> <span class="token string">&#39;&lt;h1&gt;&lt;%=name %&gt;&lt;/h1&gt;&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-ç”Ÿæˆæ¨¡æ¿å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_2-ç”Ÿæˆæ¨¡æ¿å‡½æ•°" aria-hidden="true">#</a> 2.ç”Ÿæˆæ¨¡æ¿å‡½æ•°</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//å‚æ•°:æ¨¡æ¿æ–‡ä»¶</span>

<span class="token comment">//è¿”å›å€¼:æ¨¡æ¿å‡½æ•°</span>

<span class="token keyword">var</span> tplFn <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">template</span><span class="token punctuation">(</span>oldHtml<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-ä¼ å€¼" tabindex="-1"><a class="header-anchor" href="#_3-ä¼ å€¼" aria-hidden="true">#</a> 3.ä¼ å€¼</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//å‚æ•°:å¯¹è±¡</span>

<span class="token keyword">var</span> newStr <span class="token operator">=</span> <span class="token function">tplFn</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;ä¹ç¦&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_11ã€å…¶ä»–" tabindex="-1"><a class="header-anchor" href="#_11ã€å…¶ä»–" aria-hidden="true">#</a> 11ã€å…¶ä»–</h3><h4 id="_1-è¯»å–æ–‡ä»¶å¦‚æœå‘ç”Ÿé”™è¯¯-ä¸éœ€è¦-throw-err-å› ä¸ºè¿™æ˜¯åšé¡¹ç›®äº†" tabindex="-1"><a class="header-anchor" href="#_1-è¯»å–æ–‡ä»¶å¦‚æœå‘ç”Ÿé”™è¯¯-ä¸éœ€è¦-throw-err-å› ä¸ºè¿™æ˜¯åšé¡¹ç›®äº†" aria-hidden="true">#</a> 1. è¯»å–æ–‡ä»¶å¦‚æœå‘ç”Ÿé”™è¯¯,ä¸éœ€è¦ throw err ,å› ä¸ºè¿™æ˜¯åšé¡¹ç›®äº†</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">,</span> <span class="token string">&#39;Not Found&#39;</span><span class="token punctuation">)</span>

  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&#39;404 no found page&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-å¤„ç†å¤§å°å†™-å› ä¸º-method-get-å’Œ-post" tabindex="-1"><a class="header-anchor" href="#_2-å¤„ç†å¤§å°å†™-å› ä¸º-method-get-å’Œ-post" aria-hidden="true">#</a> 2. å¤„ç†å¤§å°å†™ å› ä¸º method = GET å’Œ POST</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//æŠŠurlè½¬æ¢æˆå°å†™</span>
req<span class="token punctuation">.</span>url <span class="token operator">=</span> req<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

req<span class="token punctuation">.</span>method <span class="token operator">=</span> req<span class="token punctuation">.</span>method<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-æ•°ç»„è½¬åŒ–ä¸ºå­—ç¬¦ä¸²" tabindex="-1"><a class="header-anchor" href="#_3-æ•°ç»„è½¬åŒ–ä¸ºå­—ç¬¦ä¸²" aria-hidden="true">#</a> 3.æ•°ç»„è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_4-é‡å®šå‘" tabindex="-1"><a class="header-anchor" href="#_4-é‡å®šå‘" aria-hidden="true">#</a> 4. é‡å®šå‘</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>res<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">301</span>

res<span class="token punctuation">.</span>statusMessage <span class="token operator">=</span> <span class="token string">&#39;Moved Permanently&#39;</span>

res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&#39;Location&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span>

res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ä¸€å®šè¦åŠ ä¸Šè¿™ä¸ª</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-é”™è¯¯-åˆä¸æ˜¯æ–‡ä»¶ä¸å­˜åœ¨çš„é”™è¯¯å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_5-é”™è¯¯-åˆä¸æ˜¯æ–‡ä»¶ä¸å­˜åœ¨çš„é”™è¯¯å¤„ç†" aria-hidden="true">#</a> 5. é”™è¯¯,åˆä¸æ˜¯æ–‡ä»¶ä¸å­˜åœ¨çš„é”™è¯¯å¤„ç†</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token operator">&amp;&amp;</span> err<span class="token punctuation">.</span>code <span class="token operator">!==</span> <span class="token string">&#39;ENOENT&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> err
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-æ‹¼æ¥-buffer-çš„ä¼ é€’" tabindex="-1"><a class="header-anchor" href="#_6-æ‹¼æ¥-buffer-çš„ä¼ é€’" aria-hidden="true">#</a> 6. æ‹¼æ¥ buffer çš„ä¼ é€’</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>    <span class="token keyword">var</span> bufferArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    req<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;111&#39;</span><span class="token punctuation">)</span>

      bufferArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>chunk<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    req<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;22&#39;</span><span class="token punctuation">)</span>

     <span class="token comment">//æŠŠ bufferæ•°ç»„æ‹¼ç»„æˆä¸€ä¸ªå®Œæ•´çš„ buffer</span>

      <span class="token keyword">var</span> postBody <span class="token operator">=</span>  Buffer<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>bufferArr<span class="token punctuation">)</span><span class="token punctuation">;</span>

      postBody <span class="token operator">=</span> postBody<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>postBody<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//title=44&amp;url=444&amp;text=444</span>

      <span class="token comment">//4. æŠŠå­—ç¬¦ä¸²è½¬åŒ–ä¸ºå¯¹è±¡</span>

      postBody <span class="token operator">=</span>  queryString<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>postBody<span class="token punctuation">)</span><span class="token punctuation">;</span>

      postBody<span class="token punctuation">.</span>id <span class="token operator">=</span> list<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

      list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>postBody<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_7-æ³¨æ„-ä¸è¦åœ¨æœ€åå†™-res-end-å› æ˜¯å¼‚æ­¥çš„å› ä¸ºç»“æŸå“åº”-å°±ä¸ä¼šä¼ äº†" tabindex="-1"><a class="header-anchor" href="#_7-æ³¨æ„-ä¸è¦åœ¨æœ€åå†™-res-end-å› æ˜¯å¼‚æ­¥çš„å› ä¸ºç»“æŸå“åº”-å°±ä¸ä¼šä¼ äº†" aria-hidden="true">#</a> 7.æ³¨æ„,,ä¸è¦åœ¨æœ€åå†™ res.end(), å› æ˜¯å¼‚æ­¥çš„å› ä¸ºç»“æŸå“åº”,,å°±ä¸ä¼šä¼ äº†</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>  <span class="token function">ml_readData</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>

  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">var</span>  data <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

 <span class="token operator">...</span>

 data <span class="token operator">=</span> <span class="token number">13</span> <span class="token operator">--</span><span class="token operator">&gt;</span>

 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>



  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12ã€node-js-æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_12ã€node-js-æ¨¡å—" aria-hidden="true">#</a> 12ã€node.js æ¨¡å—</h3><h4 id="_1-æ¨¡å—åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#_1-æ¨¡å—åˆ†ç±»" aria-hidden="true">#</a> 1.æ¨¡å—åˆ†ç±»</h4><h5 id="æ ¸å¿ƒæ¨¡å—-å†…ç½®æ¨¡å—-åŸç”Ÿæ¨¡å—" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒæ¨¡å—-å†…ç½®æ¨¡å—-åŸç”Ÿæ¨¡å—" aria-hidden="true">#</a> æ ¸å¿ƒæ¨¡å—(å†…ç½®æ¨¡å—ï¼ŒåŸç”Ÿæ¨¡å—):</h5><ul><li>fs è¯»å†™æ–‡ä»¶</li><li>http åˆ›å»ºæœåŠ¡å¹¶ç›‘å¬æœåŠ¡</li><li>path æ‹¼æ¥è·¯å¾„</li><li>url è§£æ reg.urlï¼Œè®¾ç½®å‚æ•° trueï¼ŒæŠŠ query çš„æŸ¥è¯¢å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå¯¹è±¡å•Š (/add?id=12&amp;name=&#39;yaya&#39;)</li><li>querystring è§£ææŸ¥è¯¢å­—ç¬¦ä¸² ( ? åé¢çš„: id=2&amp;name=&#39;xingge&#39; )</li></ul><h4 id="_2-æ–‡ä»¶æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_2-æ–‡ä»¶æ¨¡å—" aria-hidden="true">#</a> 2.æ–‡ä»¶æ¨¡å—</h4><pre><code>- è¯´æ˜ : æ ¹æ®æ–‡ä»¶è·¯å¾„å¼•å…¥çš„æ¨¡å—
</code></pre><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>    var a = require(&#39;./a&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><pre><code>- å¦‚æœåŠ è½½æ—¶,æ²¡æœ‰æŒ‡å®šåç¼€å, é‚£ä¹ˆå°±æŒ‰ç…§å¦‚ä¸‹é¡ºåºåŠ è½½å“åº”æ¨¡å—  ( ä¾‹å¦‚ :  require ( &#39; ./demo  &#39; ))
  - 1. .js
  - 2. .json
  - 3. .node (C/C++ç¼–å†™çš„æ¨¡å—)
</code></pre><h4 id="_3-è‡ªå®šä¹‰æ¨¡å—-ç¬¬ä¸‰æ–¹æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_3-è‡ªå®šä¹‰æ¨¡å—-ç¬¬ä¸‰æ–¹æ¨¡å—" aria-hidden="true">#</a> 3.è‡ªå®šä¹‰æ¨¡å—(ç¬¬ä¸‰æ–¹æ¨¡å—)**</h4><ul><li>è¯´æ˜ : éœ€è¦é¢å¤–é€šè¿‡ npm å®‰è£…çš„æ¨¡å— var mime = require(&#39;mime&#39;);</li><li>mime æ ¹æ®è·¯å¾„/æ–‡ä»¶ åç¼€å è½¬åŒ–ä¸ºå¯¹åº”çš„æ ·å¼( Content-Type) , (mime.getType() )</li><li>underscore æ¨¡æ¿å¼•æ“ : ç»™ html æ–‡ä»¶èµ‹å€¼</li></ul><h3 id="_13-require-åŠ è½½æ¨¡å—é¡ºåº" tabindex="-1"><a class="header-anchor" href="#_13-require-åŠ è½½æ¨¡å—é¡ºåº" aria-hidden="true">#</a> 13.require åŠ è½½æ¨¡å—é¡ºåº</h3><h4 id="_1-require-test-js-å¦‚æœæ˜¯å…·ä½“çš„æ–‡ä»¶å" tabindex="-1"><a class="header-anchor" href="#_1-require-test-js-å¦‚æœæ˜¯å…·ä½“çš„æ–‡ä»¶å" aria-hidden="true">#</a> 1.require(&#39;./test.js&#39;) ==&gt; å¦‚æœæ˜¯å…·ä½“çš„æ–‡ä»¶å</h4><ul><li>ç›´æ¥æ ¹æ®ç»™å®šçš„è·¯å¾„å»åŠ è½½æ¨¡å—,æ‰¾åˆ°äº†,åŠ è½½æˆåŠŸ,æ‰¾ä¸åˆ°åŠ è½½å¤±è´¥</li></ul><h4 id="_2-require-test-ä¸æ˜¯å…·ä½“çš„æ–‡ä»¶å" tabindex="-1"><a class="header-anchor" href="#_2-require-test-ä¸æ˜¯å…·ä½“çš„æ–‡ä»¶å" aria-hidden="true">#</a> 2.require(&#39;./test&#39;) ==&gt; ä¸æ˜¯å…·ä½“çš„æ–‡ä»¶å</h4><ul><li>ç¬¬ä¸€æ­¥: æ ¹æ®æŒ‡å®šçš„è·¯å¾„,ä¾æ¬¡æ·»åŠ æ–‡ä»¶åç¼€ .jsã€.jsonã€.node è¿›è¡ŒåŒ¹é…,å¦‚æœæ‰¾ä¸åˆ°åŒ¹é…,æ‰§è¡Œç¬¬äºŒæ­¥</li><li>ç¬¬äºŒæ­¥: æ‰¾ä¸åˆ°ä¼šè®¤ä¸ºæ˜¯ test æ–‡ä»¶å¤¹, æŸ¥æ‰¾æ˜¯å¦æœ‰ test ç›®å½•,, (å°è¯•æ‰¾ test åŒ…)</li><li>æ‰¾ä¸åˆ°: åŠ è½½å¤±è´¥</li><li>æ‰¾åˆ°äº†,ä¾æ¬¡åœ¨ test ç›®å½•ä¸‹æŸ¥æ‰¾ package.json æ–‡ä»¶ï¼ˆæ‰¾åˆ°è¯¥æ–‡ä»¶åå°è¯•æ‰¾ main å­—æ®µä¸­çš„å…¥å£æ–‡ä»¶ï¼‰ã€index.jsã€index.jsonã€index.nodeï¼Œæ‰¾ä¸åˆ°åˆ™åŠ è½½å¤±è´¥</li></ul><h4 id="_3-ä¸æ˜¯-é‚£ä¹ˆå°±è®¤ä¸ºä¼ å…¥çš„æ˜¯-æ¨¡å—åç§°-æ¯”å¦‚-require-http-ã€require-mime" tabindex="-1"><a class="header-anchor" href="#_3-ä¸æ˜¯-é‚£ä¹ˆå°±è®¤ä¸ºä¼ å…¥çš„æ˜¯-æ¨¡å—åç§°-æ¯”å¦‚-require-http-ã€require-mime" aria-hidden="true">#</a> 3.ä¸æ˜¯, é‚£ä¹ˆå°±è®¤ä¸ºä¼ å…¥çš„æ˜¯ æ¨¡å—åç§°,ï¼ˆæ¯”å¦‚ï¼šrequire(&#39;http&#39;)ã€require(&#39;mime&#39;)ï¼‰</h4><ul><li>å…ˆä»å†…ç½®æ¨¡å—é‡Œæ‰¾,æ‰¾åˆ°è¯´æ˜æ˜¯å†…ç½®æ¨¡å—: ç›´æ¥åŠ è½½å†…ç½®æ¨¡å—</li><li>ä¸æ˜¯å†…ç½®æ¨¡å—</li><li>ä¾æ¬¡é€’å½’æŸ¥æ‰¾ node_modules ç›®å½•ä¸­æ˜¯å¦æœ‰ç›¸åº”çš„åŒ…</li><li>ä»å½“å‰ç›®å½•å¼€å§‹,ä¾æ¬¡é€’å½’æŸ¥æ‰¾æ‰€æœ‰çˆ¶ç›®å½•ä¸‹çš„ node_modules ç›®å½•ä¸­æ˜¯å¦åŒ…å«ç›¸åº”çš„åŒ…</li></ul><h3 id="_14ã€æ¨¡å—åŒ–æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#_14ã€æ¨¡å—åŒ–æ­¥éª¤" aria-hidden="true">#</a> 14ã€æ¨¡å—åŒ–æ­¥éª¤</h3><ul><li>1.åˆ›å»ºæ¨¡å—</li><li>2.å¯¼å‡ºæ¨¡å— <ul><li><pre><code>2-1 å½“å‰å†™ä»€ä¹ˆå†…å®¹?(å¯¹è±¡é‡Œèµ‹å€¼)
</code></pre></li><li><pre><code>2.2 æ˜¯å¦éœ€è¦å‚æ•°?
</code></pre></li><li><pre><code>2.3æ˜¯å¦éœ€è¦ç¬¬ä¸‰æ–¹æ¨¡å—å’Œå‡½æ•°
</code></pre></li></ul></li><li>3.åŠ è½½æ¨¡å—</li><li>4.ä½¿ç”¨æ¨¡å—</li><li></li></ul><h3 id="_15ã€å¦‚ä½•ç¼–å†™æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_15ã€å¦‚ä½•ç¼–å†™æ¨¡å—" aria-hidden="true">#</a> 15ã€å¦‚ä½•ç¼–å†™æ¨¡å—:</h3><ul><li><p>1.å½“å‰æ¨¡å—è¦å†™ä»€ä¹ˆå†…å®¹? :å†…å®¹</p></li><li><p>2.è¿™äº›ä»£ç æ˜¯å¦ç”¨åˆ°å¤–éƒ¨çš„æ•°æ®?ï¼šå‚æ•°</p></li><li><p>3.æ˜¯å¦ä¾èµ–æ¨¡å— ( ç¬¬ä¸‰æ–¹æ¨¡å—ã€å†…ç½®æ¨¡å—ã€æ–‡ä»¶æ¨¡å—)å’Œä¸€èµ·è‡ªå®šä¹‰æ–¹æ³• â€”â€”&gt;ç®€: æ¨¡å—(å‡½æ•°)</p><p>é…ç½®æ¨¡å—: config.js :</p><ul><li>port</li><li>filename</li></ul><p>æ‹“å±•æ¨¡å—: context.js</p><ul><li>req.method</li><li>res.ml_render</li></ul><p>è·¯ç”±æ¨¡å—: router.js</p><ul><li>è®°å¾— urlObj</li><li>ä¸€å®šè¦æ³¨æ„ å†…ç½®æ¨¡å—, åˆ«å¿˜è®°åŠ è½½ <ul><li>æŠŠä¸šåŠ¡æ•°æ®æ¨¡å—éƒ½å¼•è¿›æ¥,åé¢æå‡ºå»</li></ul></li></ul><p>ä¸šåŠ¡æ¨¡å—: handler.js</p><ul><li css-module=".">module.exports.index = function(req,res)</li></ul><p>æ•°æ®æ“ä½œæ¨¡å—:</p><p>æœåŠ¡æ¨¡å—: app.js</p></li></ul><h3 id="_16ã€express-æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_16ã€express-æ¨¡å—" aria-hidden="true">#</a> 16ã€Express æ¨¡å—</h3><h4 id="_1-åŸºæœ¬æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#_1-åŸºæœ¬æ­¥éª¤" aria-hidden="true">#</a> 1. åŸºæœ¬æ­¥éª¤</h4><pre><code>- å®‰è£…:   npm i express -S    // å®‰è£…ä¹‹å‰: å…ˆnpm init -y åˆå§‹åŒ– package.json æ–‡ä»¶
- åŠ è½½:   var express = require(&#39;express&#39;)
- å®ä¾‹:   var app = express()      // å®ä¾‹åŒ– express å¯¹è±¡
- ä½¿ç”¨:   app.get()/app.use()/app.all() â€¦. App.listen()
</code></pre><h4 id="_2-æ¼”ç¤ºæ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#_2-æ¼”ç¤ºæ¡ˆä¾‹" aria-hidden="true">#</a> 2. æ¼”ç¤ºæ¡ˆä¾‹</h4><h5 id="_1-åŠ è½½-express" tabindex="-1"><a class="header-anchor" href="#_1-åŠ è½½-express" aria-hidden="true">#</a> 1. åŠ è½½ express</h5><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>    var express = require(&#39;express&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="_2-å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#_2-å®ä¾‹" aria-hidden="true">#</a> 2. å®ä¾‹</h5><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>    var app = express();   //  (ç±»ä¼¼äºåˆ›å»ºä¸€ä¸ª server å¯¹è±¡)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="_3-ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-ä½¿ç”¨" aria-hidden="true">#</a> 3. ä½¿ç”¨</h5><ul><li>å‚æ•° 1: è·¯å¾„</li><li>å‚æ•° 2: å›è°ƒå‡½æ•°</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&#39;Hello world&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// å¼€å¯æœåŠ¡å™¨</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;æœåŠ¡å™¨å¼€å¯äº† http://localhost:8080&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-res-send-å’Œ-res-end-çš„å¼‚åŒ" tabindex="-1"><a class="header-anchor" href="#_3-res-send-å’Œ-res-end-çš„å¼‚åŒ" aria-hidden="true">#</a> 3. res.send() å’Œ res.end() çš„å¼‚åŒ ?</h4><ul><li>ç›¸åŒç‚¹: éƒ½èƒ½å¤Ÿç»“æŸå“åº”,æŠŠå†…å®¹å“åº”ç»™æµè§ˆå™¨</li><li>ä¸åŒç‚¹:</li></ul><h5 id="_1-send-ä¸ä¹±ç " tabindex="-1"><a class="header-anchor" href="#_1-send-ä¸ä¹±ç " aria-hidden="true">#</a> 1.send () ä¸ä¹±ç :</h5><ul><li>res.send() å‚æ•°å¯ä»¥æ˜¯ a Buffer objectã€a String , è¿˜æœ‰ an objectã€an Array</li></ul><h5 id="_2-å‚æ•°ç±»å‹ä¸åŒ" tabindex="-1"><a class="header-anchor" href="#_2-å‚æ•°ç±»å‹ä¸åŒ" aria-hidden="true">#</a> 2.å‚æ•°ç±»å‹ä¸åŒ:</h5><ul><li><p>res.send() å‚æ•°å¯ä»¥æ˜¯ a Buffer objectã€a String , è¿˜æœ‰ an objectã€an Array</p></li><li><p>res.end() å‚æ•°ç±»å‹åªèƒ½æ˜¯: Buffer æˆ–è€… String</p><p>æ€»ç»“: ä»¥ååœ¨ express æ¨èä½¿ç”¨: send() å‘é€ HTTP å“åº”;</p></li></ul><h4 id="_4-res-çš„å…¶ä»–å‡ ä¸ªå¸¸ç”¨çš„æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_4-res-çš„å…¶ä»–å‡ ä¸ªå¸¸ç”¨çš„æ–¹æ³•" aria-hidden="true">#</a> 4. res çš„å…¶ä»–å‡ ä¸ªå¸¸ç”¨çš„æ–¹æ³•</h4><h5 id="res-redirect-status-path-é‡å®šå‘" tabindex="-1"><a class="header-anchor" href="#res-redirect-status-path-é‡å®šå‘" aria-hidden="true">#</a> res.redirect([status,] path) : é‡å®šå‘</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.baidu.com&#39;</span><span class="token punctuation">)</span>
res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token number">301</span><span class="token punctuation">,</span> <span class="token string">&#39;https://www.baidu.com&#39;</span><span class="token punctuation">)</span>
<span class="token comment">//ä¹‹å‰çš„</span>
res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">301</span><span class="token punctuation">,</span> <span class="token string">&#39;Moved Permanently&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">Location</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="res-sendfile-path-options-fn-è¯»å–æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#res-sendfile-path-options-fn-è¯»å–æ–‡ä»¶" aria-hidden="true">#</a> res.sendFile(path [, options]_[, fn]) è¯»å–æ–‡ä»¶</h5><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>
    // ä»¥å‰ : è¯»å–æ–‡ä»¶å¹¶å“åº”
      fs.readFile(path.join(__dirname,&#39;./index.html&#39;),function (err,data) {
    if (err) {
      throw err
    }
    res.end(data);
      })

    // ç°åœ¨ :
    // 2.1 ä¸éœ€è¦å›è°ƒå‡½æ•° ç›´æ¥å±•ç¤ºé¡µé¢
    res.sendFile(path.join(__dirname,&#39;./demo.html&#39;))
    // 2.2 éœ€è¦å›è°ƒå‡½æ•°
    res.sendFile(path.join(__dirname,&#39;./demo.html&#39;),function (err) {
    if (err) {
      throw err
    }
    console.log(&#39;ok&#39;)
      })
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="res-status-è®¾ç½®çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#res-status-è®¾ç½®çŠ¶æ€" aria-hidden="true">#</a> res.status() : è®¾ç½®çŠ¶æ€</h5><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>    res.status(404).send(&#39;æ–‡ä»¶ä¸å­˜åœ¨ï¼&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_5-express-ä¸­æ³¨å†Œè·¯ç”±çš„æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_5-express-ä¸­æ³¨å†Œè·¯ç”±çš„æ–¹æ³•" aria-hidden="true">#</a> 5. Express ä¸­æ³¨å†Œè·¯ç”±çš„æ–¹æ³•</h4><h5 id="æ–¹æ³•ä¸€-app-method-ç±»å‹å›ºå®š-è·¯å¾„å®Œå…¨åŒ¹é…" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•ä¸€-app-method-ç±»å‹å›ºå®š-è·¯å¾„å®Œå…¨åŒ¹é…" aria-hidden="true">#</a> æ–¹æ³•ä¸€ : app.METHOD()ç±»å‹å›ºå®š,è·¯å¾„å®Œå…¨åŒ¹é…</h5><ol><li>åŸºæœ¬ç”¨æ³•</li></ol><ul><li>Method æ˜¯ä¸€ä¸ª http è¯·æ±‚æ–¹æ³•: ä¾‹å¦‚: get / post / put / delete ç­‰ç­‰ - 1. è¯·æ±‚æ–¹å¼å›ºå®š - 2. è·¯å¾„å®Œå…¨åŒ¹é…</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// å‚æ•°1: è·¯å¾„</span>
<span class="token comment">// å‚æ•°2: callback å›è°ƒ</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/index&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;index&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="æ–¹æ³•äºŒ-app-use-â€”-ä¸­é—´ä»¶ä¸€èˆ¬ä¸è¿™ä¸ªé…åˆä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•äºŒ-app-use-â€”-ä¸­é—´ä»¶ä¸€èˆ¬ä¸è¿™ä¸ªé…åˆä½¿ç”¨" aria-hidden="true">#</a> æ–¹æ³•äºŒ : app.use() â€” (ä¸­é—´ä»¶ä¸€èˆ¬ä¸è¿™ä¸ªé…åˆä½¿ç”¨)</h5><ul><li><p>å¼€å¤´æ˜¯: /index å°±åŒ¹é…</p></li><li><p>ä»»æ„ç±»å‹,è·¯å¾„å¼€å§‹ç›¸åŒå°±åŒ¹é…</p><ul><li><ol><li>åœ¨è¿›è¡Œè·¯ç”±åŒ¹é…çš„æ—¶å€™,ä¸é™å®šæ–¹æ³•,ä»€ä¹ˆè¯·æ±‚æ–¹æ³•éƒ½å¯ä»¥</li></ol></li><li><ol start="2"><li>è¯·æ±‚è·¯å¾„çš„ç¬¬ä¸€éƒ¨åˆ†åªè¦ä¸ /index ç›¸ç­‰å³å¯,,,å¹¶ä¸è¦æ±‚è¯·æ±‚è·¯å¾„ ( pathname ) å®Œå…¨åŒ¹é…</li></ol></li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#39;/index&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;hello ä½ å¥½ä¸–ç•Œ&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="æ–¹æ³•ä¸‰-app-all" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•ä¸‰-app-all" aria-hidden="true">#</a> æ–¹æ³•ä¸‰ : app.all()</h5><ul><li><p>ä»»æ„ç±»å‹, è·¯å¾„å®Œå…¨åŒ¹é…</p><ul><li><ol><li>ä¸é™å®šè¯·æ±‚æ–¹æ³•;</li></ol></li><li><ol start="2"><li>è¯·æ±‚è·¯å¾„çš„ pathname å¿…é¡»å®Œå…¨åŒ¹é…;</li></ol></li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">&#39;/index&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;index&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-express-å¤„ç†é™æ€èµ„æº" tabindex="-1"><a class="header-anchor" href="#_6-express-å¤„ç†é™æ€èµ„æº" aria-hidden="true">#</a> 6. Express å¤„ç†é™æ€èµ„æº</h4><h5 id="_1-ä½¿ç”¨-express-æŒ‰ç…§ä»¥å‰çš„é€»è¾‘å†™" tabindex="-1"><a class="header-anchor" href="#_1-ä½¿ç”¨-express-æŒ‰ç…§ä»¥å‰çš„é€»è¾‘å†™" aria-hidden="true">#</a> 1.ä½¿ç”¨ express æŒ‰ç…§ä»¥å‰çš„é€»è¾‘å†™:</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//3. æ³¨å†Œè·¯ç”±</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">sendFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./demo.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// if(req.url.startWith(&#39;/public)) { æ‹¼æ¥è·¯å¾„ è¿”å›ç»å¯¹è·¯å¾„çš„æ–‡ä»¶ }</span>

<span class="token comment">// å¤„ç†é™æ€èµ„æº</span>
<span class="token comment">//app.use(path,callback)  //use è¯·æ±‚è·¯å¾„çš„ç¬¬ä¸€éƒ¨åˆ†åªè¦ä¸ path è·¯å¾„åŒ¹é…å³å¯</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#39;/public&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">sendFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./public/demo.css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// æ˜¯å¼‚æ­¥çš„</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-ä½¿ç”¨-express-çš„å†…ç½®æ¨¡å—-express-static" tabindex="-1"><a class="header-anchor" href="#_2-ä½¿ç”¨-express-çš„å†…ç½®æ¨¡å—-express-static" aria-hidden="true">#</a> 2.ä½¿ç”¨ express çš„å†…ç½®æ¨¡å— express.static</h5><ul><li>é€šè¿‡ Express å†…ç½®çš„ express.static å¯ä»¥æ–¹ä¾¿åœ°æ‰˜ç®¡é™æ€æ–‡ä»¶ï¼Œä¾‹å¦‚å›¾ç‰‡ã€CSSã€JavaScript æ–‡ä»¶ç­‰ã€‚</li><li>å°†<code>é™æ€èµ„æºæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•</code>ä½œä¸ºå‚æ•°ä¼ é€’ç»™ <code>express.static ä¸­é—´ä»¶</code>,å°±å¯ä»¥æä¾›é™æ€èµ„æºæ–‡ä»¶çš„è®¿é—®äº†ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>    href<span class="token operator">=</span><span class="token string">&quot;./public/demo.css&quot;</span>     src<span class="token operator">=</span><span class="token string">&quot;./public/dog.jpg&quot;</span>


    <span class="token comment">// å› ä¸º1 express.static æ˜¯ä¸­é—´ä»¶ ä¸­é—´ä»¶ä¹Ÿå°±æ˜¯å‡½æ•° æ‰€ä»¥,,å¯ä»¥æ›¿æ¢åé¢çš„å‡½æ•°</span>
     <span class="token literal-property property">å®˜ç½‘çš„è¯</span><span class="token operator">:</span>

     app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#39;/public&#39;</span><span class="token punctuation">,</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//å› ä¸º2.ä¸Šé¢è¯´åˆ°`é™æ€èµ„æºæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•`ä½œä¸ºå‚æ•°ä¼ ,æ‰€ä»¥ä¼ ç›®å½•</span>
    <span class="token comment">// ç›®å½•:</span>

    path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;./public&#39;</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#39;/public&#39;</span><span class="token punctuation">,</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;./public&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="é¢å¤–è¡¥å……" tabindex="-1"><a class="header-anchor" href="#é¢å¤–è¡¥å……" aria-hidden="true">#</a> é¢å¤–è¡¥å……:</h5><pre><code>1. ä¾‹å¦‚:é™æ€æ–‡ä»¶å«: demo.css
   - ./demo.css  â€”&gt; è¯·æ±‚è·¯å¾„çš„ç¬¬ä¸€ä¸ªéƒ¨åˆ†æ˜¯: /
   - ./public/demo.css  â€”&gt; è¯·æ±‚è·¯å¾„çš„ç¬¬ä¸€ä¸ªéƒ¨åˆ†æ˜¯: /public
2. express ä¸­çš„ req.url å·²ç»ä¸æ˜¯ä¹‹å‰çš„é‚£ä¸ªäº†
   - /public/demo.css  â€”&gt; httpçš„ req.url = /public/demo.css
   - /public/demo.css  â€”&gt; expressçš„ req.url = /demo.css
</code></pre><h4 id="_7-express-çš„è·¯ç”±æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_7-express-çš„è·¯ç”±æ¨¡å—" aria-hidden="true">#</a> 7.Express çš„è·¯ç”±æ¨¡å—</h4><ul><li>é…ç½®</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//åˆ›å»º router.js</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;index&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/submit&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;submit&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// app.js å‘¢</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./router&#39;</span><span class="token punctuation">)</span>
<span class="token function">router</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>æ•ˆæœæ˜¯èƒ½å®Œæˆ

ä½†æ˜¯è¿™æ ·æš´éœ²äº† app, , app æ˜¯ä¸ªå¯¹è±¡,,,,å¯ä»¥éšæ—¶æ”¹é‡Œé¢çš„ä¸œè¥¿, å¾ˆä¸å®‰å…¨ï¼Œæ‰€ä»¥: ä½¿ç”¨ express è‡ªå¸¦çš„è·¯ç”±ç±»: express.Router()
</code></pre><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//åˆ›å»º router.js</span>
<span class="token comment">//1. åŠ è½½ express å’Œ router</span>
<span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">//2. é…ç½® router</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;index&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/submit&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;submit&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//3. å¯¼å‡º router</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router

<span class="token comment">// app.js</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./router&#39;</span><span class="token punctuation">)</span> <span class="token comment">//åŠ è½½</span>

<span class="token comment">// è·¯ç”± æŒ‚è½½åˆ° app ä¸Š</span>
<span class="token comment">// app.use([path,] fn)</span>
<span class="token comment">// app.use(&#39;/&#39; fn)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="express-çš„è¯»å–é¡µé¢å’Œä¼ å€¼é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#express-çš„è¯»å–é¡µé¢å’Œä¼ å€¼é—®é¢˜" aria-hidden="true">#</a> Express çš„è¯»å–é¡µé¢å’Œä¼ å€¼é—®é¢˜??</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function-variable function">index</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//1. è¯»å–é¡µé¢  æ­£å¸¸è¯»å–ç½‘é¡µæ²¡æœ‰é—®é¢˜</span>
  <span class="token comment">//2. ä½†æ˜¯  æ— æ³•ä¼ å€¼</span>
  res<span class="token punctuation">.</span><span class="token function">sendFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./views/index.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> err
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">//2. res.render() é…åˆ ejs è¿™ä¸ªæ¨¡æ¿å¼•æ“ä½¿ç”¨</span>
  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;index&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39; å“ˆ&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8-express-ä¸­çš„-res-render-é…åˆ-ejs-æ¨¡æ¿å¼•æ“" tabindex="-1"><a class="header-anchor" href="#_8-express-ä¸­çš„-res-render-é…åˆ-ejs-æ¨¡æ¿å¼•æ“" aria-hidden="true">#</a> 8.Express ä¸­çš„ res.render() é…åˆ ejs æ¨¡æ¿å¼•æ“</h4><h5 id="ä¸€ã€ä½¿ç”¨åç¼€-ejs-æ¨¡æ¿çš„æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€ä½¿ç”¨åç¼€-ejs-æ¨¡æ¿çš„æ­¥éª¤" aria-hidden="true">#</a> ä¸€ã€ä½¿ç”¨åç¼€.ejs æ¨¡æ¿çš„æ­¥éª¤:</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>    <span class="token comment">//1. app.js æ¨¡å—</span>
    <span class="token comment">//é…ç½®ä½¿ç”¨ ejs æ¨¡æ¿å¼•æ“</span>
    <span class="token comment">// é…ç½® express ä½¿ç”¨ ejs å¼•æ“</span>
    <span class="token comment">// é…ç½®æ¨¡æ¿å¼•æ“è¦æ”¾åˆ°æ­£å¼å¤„ç†è¯·æ±‚ä¹‹å‰,å¦åˆ™å¯èƒ½ä¸èƒ½ç”¨</span>
    <span class="token comment">// å½“ä½¿ç”¨ esj æ¨¡æ¿å¼•æ“çš„æ—¶å€™,æ¨¡æ¿æ–‡ä»¶çš„åç¼€å¿…é¡»æ˜¯ .ejs</span>
    <span class="token comment">//1. å®‰è£… esj:</span>
       <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">npm i ejs -SD</span><span class="token template-punctuation string">`</span></span>
    <span class="token comment">//2. é…ç½®</span>
    <span class="token comment">//   - å‘Šè¯‰ express æ¨¡æ¿æ–‡ä»¶çš„ç›®å½•</span>
    <span class="token comment">//    + views æ˜¯å›ºå®šçš„</span>
    <span class="token comment">//   - å‘Šè¯‰ express è¦ä½¿ç”¨çš„æ¨¡æ¿å¼•æ“</span>
    app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;views&#39;</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;./views&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;view engine&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ejs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//2. handler.js æ¨¡å—  ---å‰æ: åœ¨ views ä¸‹åˆ›å»ºä¸€ä¸ª test.ejs æ–‡ä»¶</span>
     <span class="token comment">// æµ‹è¯• views/test.ejs å·²ç» ok</span>
      res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39; æ˜Ÿå“¥&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">//3. test.ejs</span>
     <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">%=</span> name <span class="token operator">%</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="äºŒã€-ä½¿ç”¨åç¼€-html-çš„æ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#äºŒã€-ä½¿ç”¨åç¼€-html-çš„æ¨¡æ¿" aria-hidden="true">#</a> äºŒã€ ä½¿ç”¨åç¼€ .html çš„æ¨¡æ¿</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>    <span class="token comment">//1. app.js æ¨¡å—</span>
    <span class="token comment">// é…ç½®ä½¿ç”¨ ejs æ¨¡æ¿å¼•æ“ , ä¿®æ”¹é»˜è®¤æŸ¥æ‰¾çš„æ¨¡æ¿æ–‡ä»¶åç¼€ä¸º.html</span>
    <span class="token comment">//1. è®¾ç½®æ¨¡æ¿æ–‡ä»¶çš„ç›®å½•</span>
    app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;views&#39;</span><span class="token punctuation">,</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;./views&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//2. åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„æ¨¡æ¿å¼•æ“, ç”¨æ¥è¯†åˆ«åç¼€æ˜¯ html çš„</span>
    <span class="token comment">// æŠŠæ¸²æŸ“ esj çš„åŠŸèƒ½éƒ½äº¤ç»™æ¸²æŸ“ html åç¼€çš„æ¨¡æ¿å¼•æ“ä¸Š</span>
    app<span class="token punctuation">.</span><span class="token function">engine</span><span class="token punctuation">(</span><span class="token string">&#39;html&#39;</span><span class="token punctuation">,</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;ejs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>renderFile<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//3. ä½¿ç”¨æ¨¡æ¿å¼•æ“</span>
    app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;view engine&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;html&#39;</span><span class="token punctuation">)</span>

    <span class="token comment">//2. handler.js æ¨¡æ¿</span>
     <span class="token comment">//è¦æŠŠ .ejs å…¨éƒ¨å˜ä¸º .html æ‰å¯ä»¥å•Š</span>
      res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;test01&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">90</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">//3. test01.html  æ˜¯ views ç›®å½•ä¸‹åˆ›å»ºçš„æ¨¡æ¿</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">%=</span> age <span class="token operator">%</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_17-æ¨¡æ¿å¼•æ“-ejs" tabindex="-1"><a class="header-anchor" href="#_17-æ¨¡æ¿å¼•æ“-ejs" aria-hidden="true">#</a> 17.æ¨¡æ¿å¼•æ“ - ejs :</h3><ul><li>esj <a href="https://www.npmjs.com/package/ejs" target="_blank" rel="noopener noreferrer">å®˜ç½‘<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>è¯´æ˜: express é‡Œå¯ä»¥æ¸²æŸ“æ–‡ä»¶ res.sendFile(),,ä½†æ˜¯ä¸èƒ½ä¼ å€¼,æ‰€ä»¥æ”¾å¼ƒä½¿ç”¨;</li></ul><h4 id="ejs-åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ejs-åŸºæœ¬ä½¿ç”¨" aria-hidden="true">#</a> ejs åŸºæœ¬ä½¿ç”¨</h4><ul><li><ol><li>å®‰è£…: npm i ejs -S</li></ol></li><li><ol start="2"><li>åŠ è½½: var ejs = require(&#39;ejs&#39;)</li></ol></li><li><ol start="3"><li>ä½¿ç”¨: å®˜ç½‘æä¾›:</li></ol></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>    <span class="token comment">// Example</span>
    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">%=</span> user<span class="token punctuation">.</span>name <span class="token operator">%</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span> <span class="token operator">%</span><span class="token operator">&gt;</span>

    <span class="token comment">// Usage</span>
    <span class="token comment">// æ–¹æ³•ä¸€:(é€‚ç”¨äº html ä»£ç ç‰‡æ®µ)</span>
    <span class="token keyword">var</span> template <span class="token operator">=</span> ejs<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">template</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å›ä¸€ä¸ªæ–°çš„ html</span>
    <span class="token comment">// =&gt; Rendered HTML string</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="æ–¹æ³•ä¸€" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•ä¸€" aria-hidden="true">#</a> æ–¹æ³•ä¸€:</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//html ç‰‡æ®µ</span>
<span class="token keyword">var</span> oldHtml <span class="token operator">=</span> <span class="token string">&#39;&lt;h1&gt;&lt;%= name %&gt;&lt;/h1&gt;&#39;</span>

<span class="token comment">//æ¨¡æ¿å‡½æ•°</span>
<span class="token keyword">var</span> template <span class="token operator">=</span> ejs<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>oldHtml<span class="token punctuation">)</span>

<span class="token comment">//ä¼ å€¼</span>
<span class="token keyword">var</span> newHtml <span class="token operator">=</span> <span class="token function">template</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;å“ˆå“ˆ&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newHtml<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="æ–¹æ³•äºŒ" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•äºŒ" aria-hidden="true">#</a> æ–¹æ³•äºŒ:</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ejs<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> data<span class="token punctuation">,</span> options<span class="token punctuation">)</span> <span class="token comment">// è¿”å›ä¸€ä¸ªæ–°çš„ html</span>
<span class="token comment">// =&gt; Rendered HTML string</span>

<span class="token comment">//html ç‰‡æ®µ</span>
<span class="token keyword">var</span> oldHtml <span class="token operator">=</span> <span class="token string">&#39;&lt;h1&gt;&lt;%= name %&gt;&lt;/h1&gt;&#39;</span>

<span class="token comment">// æ¸²æŸ“å¹¶èµ‹å€¼</span>
<span class="token keyword">var</span> newHtml <span class="token operator">=</span> ejs<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>oldHtml<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;å“ˆ&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newHtml<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="æ–¹æ³•ä¸‰" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•ä¸‰" aria-hidden="true">#</a> æ–¹æ³•ä¸‰:</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ejs<span class="token punctuation">.</span><span class="token function">renderFile</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> data<span class="token punctuation">,</span> options<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//str å°±æ˜¯æ–°çš„ html</span>
  <span class="token comment">// str =&gt; Rendered HTML string</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">/// æ–¹æ³•å››:</span>
ejs<span class="token punctuation">.</span><span class="token function">renderFile</span><span class="token punctuation">(</span>
  path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;è¿™æ˜¯æ ‡é¢˜&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39; æ˜Ÿå“¥&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// æ–°çš„ html</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>index.html ä»£ç </li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  &lt;% for ( var i = 0;i &lt; 5; i++ ) { %&gt;

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>&lt;%= name %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>

  &lt;% } %&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#æ¡ˆä¾‹" aria-hidden="true">#</a> æ¡ˆä¾‹</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>     xxxxxxxxxx <span class="token doc-comment comment">/** * ä½¿ç”¨ ejs åç¼€ */</span>
     <span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span><span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment">//1. å‘Šè¯‰ç¨‹åº æ¨¡æ¿æ–‡ä»¶æ”¾åœ¨ä»€ä¹ˆåœ°æ–¹</span>

     app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;views&#39;</span><span class="token punctuation">,</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;./Views&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

     <span class="token comment">//2.è‡ªå®šä¹‰è‡ªå·±çš„æ¨¡æ¿å¼•æ“</span>

     app<span class="token punctuation">.</span><span class="token function">engine</span><span class="token punctuation">(</span><span class="token string">&#39;html&#39;</span><span class="token punctuation">,</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;ejs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>renderFile<span class="token punctuation">)</span>

    <span class="token comment">//2. ä½¿ç”¨å¼•æ“</span>

    app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;view engine&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;html&#39;</span><span class="token punctuation">)</span>

    <span class="token comment">//æ³¨å†Œè·¯ç”±</span>
    app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç›´æ¥å†™ views ä¸‹çš„æ–‡ä»¶åå°±å¯ä»¥</span>

    res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;demo&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39; ç‰›é€¼&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">//å¼€å¯æœåŠ¡å™¨</span>

    app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">9090</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;å¼€å¯äº† http://localhost:9090&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_17-webpack-æ‹“å±•-ä¸è¦ç´§å¼ " tabindex="-1"><a class="header-anchor" href="#_17-webpack-æ‹“å±•-ä¸è¦ç´§å¼ " aria-hidden="true">#</a> 17. webpack (æ‹“å±•) ä¸è¦ç´§å¼ </h4><ul><li><p>4.1 éš”è¡Œå˜è‰² --&gt; import (ä¸èƒ½: æµè§ˆå™¨ä¸è¯†åˆ«) --&gt; webpack</p></li><li><p>4.2 å…¨å±€ webpack : npm i webpack -g</p></li><li><p>4.3 webpack è¦å¤„ç†çš„æ–‡ä»¶ å¤„ç†ä¹‹åçš„æ–‡ä»¶</p></li><li><p>4.4 webpack + webpack.config.js</p></li></ul><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>    // entry :  è¦å¤„ç†çš„æ–‡ä»¶

    entry: path.join(__dirname,&#39;./src/js/main.js&#39;);

    //output: å¤„ç†ä¹‹åçš„æ–‡ä»¶

    output:{

      path:path.join(__dirname,&#39;./dist&#39;),

      filename:&#39;bundle.js&#39;

    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>4.5 å®æ—¶æ„å»º

å®‰è£…:  npm  i webpack-dev-server webpack -S

é…ç½®:  package.json --&gt; &quot;dev&quot;:&quot;webpack-dev-server&quot;

ç”¨: npm  run dev

--contentBase src : è¿›å…¥åˆ° src æ–‡ä»¶ç›®å½•ä¸‹

--open   è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨

bundle.js æ”¾åˆ° æ ¹ç›®å½•ä¸‹,, src=&#39;bundle.js&#39;

4.6 html æ”¾åˆ°å†…å†…å­˜ä¸­

//1. å¿«

//2. bundle.js ä¸éœ€è¦æˆ‘ä»¬å¼•å…¥

å®‰è£…:  npm  i html-webpack-plugin -S

åŠ è½½: var htmlwebpackplugin =  require(&#39;html-webpack-plugin&#39;);

é…ç½®:
</code></pre><div class="language-JS line-numbers-mode" data-ext="JS"><pre class="language-JS"><code>    webpack.config.js

    plugins:[

      new  htmlwebpackplugin({

    template:path.join(__dirnam,&#39;./src/index.html&#39;), // æ¥æº
    filename:&#39;index.html&#39;   //å†…å­˜ä¸­çš„åå­—

      })

    ]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 599422271@qq.com">chenzhen</span><!--]--><!--]--></div></div></footer><!----><div id="comment" class="waline-wrapper" darkmode="false" style="display:block;"><div data-waline provider="Waline"><div class="wl-reaction"><div class="wl-reaction-title">ä½ è®¤ä¸ºè¿™ç¯‡æ–‡ç« æ€ä¹ˆæ ·ï¼Ÿ</div><ul class="wl-reaction-list"><!--[--><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_agree.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_look_down.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_sunglasses.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_pick_nose.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_awkward.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_sleep.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><!--]--></ul></div><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="wl-nick">æ˜µç§°</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="wl-mail">é‚®ç®±</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="wl-link">ç½‘å€</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="è¯·ç•™è¨€ã€‚(å¡«å†™é‚®ç®±å¯åœ¨è¢«å›å¤æ—¶æ”¶åˆ°é‚®ä»¶æé†’)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>é¢„è§ˆ:</h4><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button type="button" class="wl-action" title="è¡¨æƒ…" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button type="button" class="wl-action" title="è¡¨æƒ…åŒ…"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="ä¸Šä¼ å›¾ç‰‡"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button type="button" class="wl-action" title="é¢„è§ˆ"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-captcha-container"></div><div class="wl-text-number">0 <!--v-if--> Â å­—</div><button type="button" class="wl-btn">ç™»å½•</button><button type="submit" class="primary wl-btn" title="Cmd|Ctrl + Enter"><!--[-->æäº¤<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="æœç´¢è¡¨æƒ…åŒ…"><!--v-if--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> è¯„è®º</div><ul class="wl-sort"><!--[--><li class="active">æŒ‰æ­£åº</li><li class="">æŒ‰å€’åº</li><li class="">æŒ‰çƒ­åº¦</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><!--]--><!--v-if--></div></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-bb36df28.js" defer></script>
  </body>
</html>
